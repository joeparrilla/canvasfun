<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
	<style>
	* { padding: 0; margin: 0; }
	canvas { background: #eee; display: block; margin: 0 auto; }
</style>
<script type="text/javascript" src="keyHandlers.js" ></script>
</head>
<body onload="gameLoop();">
	<canvas id="canvas" width="400" height="400"></canvas>

	<script type="text/javascript">

		const canvas = document.getElementById('canvas');
		const ctx = canvas.getContext('2d');
		let upPressed = false;
		let downPressed = false;
		let rightPressed = false;
		let leftPressed = false;

		let player = new function() {
			this.size = 10;
			this.x = canvas.width/2;
			this.y = (canvas.height)-this.size;
			this.draw = function(ctx) { ctx.fillRect(this.x,this.y,this.size,this.size) };
			this.move = function(dx,dy) {this.x+=dx; this.y+=dy};
		};

		function getInput() {
			if(upPressed) {
				player.move(0,-1);
			}
			else if(downPressed) {
				player.move(0,1);
			}
			else if(leftPressed) {
				player.move(-1,0);
			}
			else if(rightPressed) {
				player.move(1,0);
			}
		}

		function gameLoop() {
			ctx.clearRect(0,0,canvas.width,canvas.height);
			getInput();
			ctx.fillStyle = '#000000';
			player.draw(ctx);
			window.requestAnimationFrame(gameLoop);
		}
	</script>
</body>
</html>